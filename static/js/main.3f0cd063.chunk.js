(this["webpackJsonpeog-react-visualization-base"]=this["webpackJsonpeog-react-visualization-base"]||[]).push([[0],{263:function(e,t,a){e.exports=a(504)},504:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(32),l=a.n(c),o=a(73),i=a(223),u=a(248),s=a(533),m=a(249),p=a(59),b=a.n(p),f=a(165),d="EVENT/API_ERROR_RECEIVED",E=a(115),g=b.a.mark(v),h=b.a.mark(O);function v(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(E.b.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}}),g)}function O(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(d,v);case 2:case"end":return e.stop()}}),h)}var j=[O],y=Object(m.a)(j),T=a(116),w={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},N=Object(T.a)({},"EVENT/WEATHER_DATA_RECEIVED",(function(e,t){var a,r=t.getWeatherForLocation,n=r.description,c=r.locationName,l=r.temperatureinCelsius;return{temperatureinCelsius:l,temperatureinFahrenheit:(a=l,9*a/5+32),description:n,locationName:c}})),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=N[t.type];return"undefined"===typeof a?e:a(e,t)},x={selectedMetric:"oilTemp"},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_METRIC":return{selectedMetric:t.payload};default:return e}};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R={before:null,after:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_HEARTBEAT":return k({},e,{before:t.payload,after:t.payload-18e5});default:return e}},D={tubingPressure:[],casingPressure:[],oilTemp:[],flareTemp:[],waterTemp:[],injValveOpen:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MEASUREMENTS":var a=t.payload;return a;default:return e}},V=a(30),B=a(246),F=a(545),S=a(546),_=(a(274),a(505)),W=a(536),I=a(537),q=a(225),G=a(26),$=a(35),z=a(552),H=a(535),J=a(554),Q=a(15),U=Object(Q.a)((function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}}))(J.a),K=Object($.b)({url:"https://react.eogresources.com/graphql"}),X=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},Y=function(){return n.a.createElement($.a,{value:K},n.a.createElement(Z,null))},Z=function(){var e=Object(z.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},a=Object(V.b)(),c=Object(V.c)(X),l=c.temperatureinFahrenheit,o=c.description,i=c.locationName,u=Object($.c)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),s=Object(G.a)(u,1)[0],m=s.fetching,p=s.data,b=s.error;return Object(r.useEffect)((function(){if(b)a({type:d,error:b.message});else if(p){var e=p.getWeatherForLocation;a({type:"EVENT/WEATHER_DATA_RECEIVED",getWeatherForLocation:e})}}),[a,p,b]),m?n.a.createElement(H.a,null):n.a.createElement(U,{label:"Weather in ".concat(i,": ").concat(o," and ").concat(l,"\xb0")})},ee=Object(q.a)({grow:{flexGrow:1}}),te=function(){var e=ee();return n.a.createElement(W.a,{position:"static"},n.a.createElement(I.a,null,n.a.createElement(_.a,{variant:"h6",color:"inherit",className:e.grow},"pkoru's"," EOG React Visualization Assessment"),n.a.createElement(Y,null)))},ae=Object(q.a)({wrapper:{height:"100vh"}}),re=function(e){var t=e.children,a=ae();return r.createElement("div",{className:a.wrapper},t)},ne=a(252),ce=a(547),le=a(250),oe=a(33),ie=a(245),ue=a(68),se=a(126),me=a(122),pe=a(123),be=a(228),fe=Object($.b)({url:"https://react.eogresources.com/graphql"}),de=Object(q.a)({chartBox:{padding:"5px 0"}}),Ee=function(){return n.a.createElement($.a,{value:fe},n.a.createElement(ge,null))},ge=function(){var e=de(),t=Object(V.b)(),a=Object(V.c)((function(e){return e.heartBeat})),c=Object(V.c)((function(e){return e.selectedMetrics.selectedMetric})),l=Object(V.c)((function(e){return e.measurements})),o=Object($.c)({query:"\nquery($input: MeasurementQuery) {\n  getMeasurements(input: $input) {\n    metric,\n    at,\n    value,\n    unit\n  }                                                                                       \n}\n",variables:{input:{metricName:c,before:a.before,after:a.after}}}),i=Object(G.a)(o,1)[0],u=i.fetching,s=i.data,m=i.error;if(Object(r.useEffect)((function(){if(!m&&s){var e=s.getMeasurements;t({type:"GET_MEASUREMENTS",payload:e})}})),u)return n.a.createElement(H.a,null);var p=function(e){switch(e){case"tubingPressure":case"casingPressure":return"PSI";case"oilTemp":case"flareTemp":case"waterTemp":return"F";case"injValveOpen":return"%";default:return}}(c);return n.a.createElement(ce.a,{className:e.chartBox},l.length?n.a.createElement(le.a,{width:"100%",minWidth:300,aspect:16/9},n.a.createElement(be.a,{height:600,data:l,margin:{top:5,right:5,left:5,bottom:5}},n.a.createElement(ie.a,{strokeDasharray:"3 3"}),n.a.createElement(me.a,{domain:["auto","auto"]}),n.a.createElement(pe.a,{domain:["auto","dataMax + 1"]},n.a.createElement(oe.a,{value:p,position:"insideLeft",offset:"-2"})),n.a.createElement(ue.a,null),n.a.createElement(se.a,{type:"monotone",dataKey:"value",stroke:{tubingPressure:"green",casingPressure:"blue",oilTemp:"purple",flareTemp:"red",waterTemp:"teal",injValveOpen:"black"}[c],activeDot:{r:6},dot:!1}))):null)},he=a(543),ve=a(544),Oe=a(553),je=a(551),ye=a(541),Te=a(542),we=a(550),Ne=a(127),Pe=Object(q.a)({box:{width:"166px",margin:"5px"},card:{display:"flex",justifyContent:"center",alignItems:"center",height:"64px",padding:"0",width:"85%"},cardContent:{padding:0,"&:last-child":{paddingBottom:0}},cardTitle:{fontSize:"24px"},formLabel:{paddingBottom:"20px"},formControl:{width:"100%",marginBottom:"40px"},formGroup:{flexDirection:"row",justifyContent:"center"},tubingPressure:{color:"green"},casingPressure:{color:"blue"},oilTemp:{color:"purple"},flareTemp:{color:"red"},waterTemp:{color:"teal"},injValveOpen:{color:"black"}}),xe=Object(Q.a)({root:{color:Ne.a[500],"&$checked":{color:Ne.a[900]}},checked:{}})((function(e){return n.a.createElement(we.a,Object.assign({color:"default"},e))})),Ce=[{value:"tubingPressure",label:"Tubing Pressure",color:""},{value:"casingPressure",label:"Casing Pressure"},{value:"oilTemp",label:"Oil Temp"},{value:"flareTemp",label:"Flare Temp"},{value:"waterTemp",label:"Water Temp"},{value:"injValveOpen",label:"Inj Valve Open"}],Me=function(){var e=Pe(),t=Object(V.b)(),a=Object(V.c)((function(e){return e.selectedMetrics.selectedMetric})),r=Object(V.c)((function(e){return e.measurements}));return n.a.createElement(je.a,{component:"fieldset",className:e.formControl},n.a.createElement(Oe.a,{component:"legend",className:e.formLabel},"Select metric:"),n.a.createElement(ye.a,{className:e.formGroup},Ce.map((function(c,l){var o=c.value===a;return n.a.createElement(ce.a,{className:e.box,key:"metric".concat(l)},n.a.createElement(Te.a,{control:n.a.createElement(xe,{checked:o,onChange:function(){return t({type:"SELECT_METRIC",payload:c.value})},value:c.value}),label:c.label}),o?n.a.createElement(he.a,{className:e.card},n.a.createElement(ve.a,{className:e.cardContent},n.a.createElement(_.a,{className:e.cardTitle},n.a.createElement("span",{className:e[a]},r.length?r[r.length-1].value:n.a.createElement(n.a.Fragment,null,"..."))))):null)}))))},ke=Object(q.a)({paper:{margin:"3%",padding:"20px"}}),Re=Object($.b)({url:"https://react.eogresources.com/graphql"}),Ae=function(){return n.a.createElement($.a,{value:Re},n.a.createElement(De,null))},De=function(){var e=ke(),t=Object(V.b)(),a=Object($.c)({query:"\nquery {\n  heartBeat                                                                                                              \n}\n"}),c=Object(G.a)(a,1)[0],l=c.data,o=c.error;return Object(r.useEffect)((function(){o?console.log(o.message):l&&t({type:"GET_HEARTBEAT",payload:l.heartBeat})})),n.a.createElement(ne.a,{className:e.paper},n.a.createElement(Me,null),n.a.createElement(Ee,null))},Le=function(){var e=Object(s.a)({weather:P,selectedMetrics:C,heartBeat:A,measurements:L}),t=Object(i.composeWithDevTools)({}),a=Object(u.a)(),r=Object(o.applyMiddleware)(a),n=Object(o.createStore)(e,t(r));return y.forEach(a.run),n}(),Ve=Object(B.a)({palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{default:"rgb(226,231,238)"}}}),Be=function(){return n.a.createElement(F.a,{theme:Ve},n.a.createElement(S.a,null),n.a.createElement(V.a,{store:Le},n.a.createElement(re,null,n.a.createElement(te,null),n.a.createElement(Ae,null),n.a.createElement(E.a,null))))};l.a.render(n.a.createElement(Be,null),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.3f0cd063.chunk.js.map